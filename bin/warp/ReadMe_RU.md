# üåÄ Warp Plus Docker

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ [warp-plus](https://github.com/bepass-org/warp-plus) —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≥–∏–±–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ `config.json` –Ω–∞ —Å—Ç–∞—Ä—Ç–µ, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ SOCKS5, –≤—ã–±–æ—Ä —Å—Ç—Ä–∞–Ω—ã, —Ä–µ–∂–∏–º gool/psiphon –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

---

## üì¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```yml
services:
  warp:
    container_name: warp
    image: torotin/warp-plus:latest
    restart: unless-stopped

    ports:
      - "1080:1080"     # SOCKS5-–ø—Ä–æ–∫—Å–∏

    environment:
      # üîë Warp-–∫–ª—é—á (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –Ω–æ –Ω—É–∂–µ–Ω –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã)
      KEY: ""

      # üìç Endpoint (–Ω–∞–ø—Ä–∏–º–µ—Ä: 162.159.192.1:2408)
      ENDPOINT: ""

      # üåê –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è SOCKS5
      BIND: "0.0.0.0:1080"

      # üó∫ –°—Ç—Ä–∞–Ω–∞ (–µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω–∞ ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–∞—è)
      COUNTRY: ""
      EXCLUDE_COUNTRY: "RU CN IR"

      # ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ñ–ª–∞–≥–∏
      VERBOSE: "false"              # –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏
      GOOL: "false"                 # warp –≤–Ω—É—Ç—Ä–∏ warp
      CFON: "false"                 # —Ä–µ–∂–∏–º psiphon
      SCAN: "true"                  # –≤–∫–ª—é—á–∏—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ endpoint'–æ–≤
      RTT: "1s"                     # –ø–æ—Ä–æ–≥ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞
      DNS: "1.1.1.1"                # DNS-—Å–µ—Ä–≤–µ—Ä
      CACHE_DIR: "/etc/warp/cache/" # –ø—É—Ç—å –¥–ª—è –∫—ç—à–∞
      FWMARK: "0x1375"              # fwmark –¥–ª—è tun-mode (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
      WGCONF: ""                    # –ø—É—Ç—å –∫ wireguard-–∫–æ–Ω—Ñ–∏–≥—É
      TEST_URL: ""                  # URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

      # üåê IP –ø—Ä–æ—Ç–æ–∫–æ–ª
      IPV4: "true"                  # —Ç–æ–ª—å–∫–æ IPv4 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)
      IPV6: "false"                 # —Ç–æ–ª—å–∫–æ IPv6 (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ, —Ç–æ IPV4 –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å false)

    volumes:
      - ./warp-data:/etc/warp      # –∫–æ–Ω—Ñ–∏–≥ –∏ –∫—ç—à

    healthcheck:
      test: ["CMD", "curl", "--socks5", "localhost:1080", "--max-time", "5", "https://ifconfig.me"]
      interval: 30s
      timeout: 10s
      retries: 3
```
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ SOCKS5‚Äë–ø—Ä–æ–∫—Å–∏ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `127.0.0.1:1080`.



## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ IP

–ü—Ä–æ–≤–µ—Ä—å, –∫–∞–∫–æ–π IP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏:

```bash
curl --socks5 127.0.0.1:1080 https://ifconfig.me
```


## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
> ‚ùó –ï—Å–ª–∏ `COUNTRY` –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω —Å–ª—É—á–∞–π–Ω—ã–π –∏–∑ —Å–ø–∏—Å–∫–∞, –∏—Å–∫–ª—é—á–∞—è —Å—Ç—Ä–∞–Ω—ã –∏–∑ `EXCLUDE_COUNTRY`.

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è        | –¢–∏–ø    | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é       | –û–ø–∏—Å–∞–Ω–∏–µ                                                 |
| ----------------- | ------ | ------------------ | -------------------------------------------------------- |
| `KEY`             | string | *(–ø—É—Å—Ç–æ)*          | üîë Warp+ –∫–ª—é—á *(–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Ä–∞–±–æ—Ç—ã)* |
| `ENDPOINT`        | string | *(–ø—É—Å—Ç–æ)*          | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π Warp‚Äëendpoint (–Ω–∞–ø—Ä–∏–º–µ—Ä `162.159.192.1:2408`) |
| `BIND`            | string | `127.0.0.1:1080`   | –ê–¥—Ä–µ—Å SOCKS-–ø—Ä–æ–∫—Å–∏                                       |
| `VERBOSE`         | bool   | `false`            | –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –ª–æ–≥                                   |
| `DNS`             | string | `1.1.1.1`          | DNS-—Å–µ—Ä–≤–µ—Ä                                               |
| `GOOL`            | bool   | `false`            | –†–µ–∂–∏–º warp-in-warp                                       |
| `CFON`            | bool   | `false`            | –†–µ–∂–∏–º psiphon                                            |
| `COUNTRY`         | string | `AT` –∏–ª–∏ —Å–ª—É—á–∞–π–Ω–æ  | –°—Ç—Ä–∞–Ω–∞ (–∫–æ–¥ ISO 3166-1 alpha-2)                          |
| `EXCLUDE_COUNTRY` | string | *(–ø—É—Å—Ç–æ)*          | –ò—Å–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–∞–Ω—ã –∏–∑ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ (`US DE FR`)       |
| `SCAN`            | bool   | `true`             | –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å endpoint'—ã                                   |
| `RTT`             | string | `1s`               | –ü–æ—Ä–æ–≥ RTT                                                |
| `CACHE_DIR`       | string | `/etc/warp/cache/` | –ö–µ—à –¥–ª—è —Å–∫–∞–Ω–µ—Ä–∞                                          |
| `FWMARK`          | string | `0x1375`           | Linux fwmark –¥–ª—è tun-—Ä–µ–∂–∏–º–∞                              |
| `WGCONF`          | string | *(–ø—É—Å—Ç–æ)*          | –ü—É—Ç—å –∫ wireguard –∫–æ–Ω—Ñ–∏–≥—É                                 |
| `IPV4`            | bool   | `true`             | –¢–æ–ª—å–∫–æ IPv4 (–≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∏–º–æ —Å `IPV6`)                   |
| `IPV6`            | bool   | `false`            | –¢–æ–ª—å–∫–æ IPv6 (–≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∏–º–æ —Å `IPV4`)                   |


---

### ‚ù§Ô∏è –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Healthcheck

–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–ø—Ä–∞–≤–ª—è—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ñ–æ–Ω–æ–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π, –∫–æ—Ç–æ—Ä–∞—è —Å–ª–µ–¥–∏—Ç –∑–∞ —Ç–µ–º, —á—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞–≤–∞–ª—Å—è –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–º –∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω—ã–º.

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                  | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                                                              |
| --------------------------- | --------------------- | --------------------------------------------------------------------- |
| `HEALTHCHECK_INTERVAL`      | `300`                 | –ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)                      |
| `HEALTHCHECK_TIMEOUT`       | `30`                  | –¢–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)              |
| `HEALTHCHECK_INITIAL_DELAY` | `60`                  | –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö) |
| `HEALTHCHECK_MAX_FAILURES`  | `3`                   | –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –µ—Å–ª–∏ `fails >= N` –≤ –æ—Ç–≤–µ—Ç–µ upstream'–∞          |
| `HEALTHCHECK_URL`           | `https://ifconfig.me` | URL, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SOCKS5-–ø—Ä–æ–∫—Å–∏        |

‚ÑπÔ∏è –≠—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** –∏ –ø—Ä–∏ —Å–±–æ–µ –º–æ–≥—É—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `restart: unless-stopped` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ñ–ª–∞–≥).
